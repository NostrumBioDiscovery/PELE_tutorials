{
	"simulationLogPath": "output/logFile.txt",
	"licenseDirectoryPath": "/home/ywest",
	"controlFileSavingPath": "output/originalControlFile.conf",
	"Initialization": {
        "allowMissingTerminals" :true,
		"ForceField": "OPLS2005",
		"Complex": { "files": [{ "path": "mut_Lae5.pdb" }] },
		"Solvent": { "solventType": "VDGBNP", "useDebyeLength": true, "ionicStrength": 0.15
		}
	},
	"commands": [{
		"commandType": "peleSimulation",
		"PELE_Parameters": {
			"temperature": 1000,
			"numberOfPeleSteps": 1000,
			"anmFrequency": 4,
			"minimizationFrequency": 1,
			"sideChainPredictionFrequency": 2,
			"sideChainPredictionRegionRadius": 6,
                        "minimizationRegionRadius": 20
			
		},
                "constraints":[
                       { "type": "constrainAtomToPosition", "springConstant": 0.1, "equilibriumDistance": 0.0, "constrainThisAtom": "A:10:_CA_" },
		       { "type": "constrainAtomToPosition", "springConstant": 0.1, "equilibriumDistance": 0.0, "constrainThisAtom": "A:20:_CA_" },
                       { "type": "constrainAtomToPosition", "springConstant": 0.1, "equilibriumDistance": 0.0, "constrainThisAtom": "A:30:_CA_" },
                       { "type": "constrainAtomToPosition", "springConstant": 0.1, "equilibriumDistance": 0.0, "constrainThisAtom": "A:40:_CA_" },
                       { "type": "constrainAtomToPosition", "springConstant": 0.1, "equilibriumDistance": 0.0, "constrainThisAtom": "A:50:_CA_" },
                       { "type": "constrainAtomToPosition", "springConstant": 0.1, "equilibriumDistance": 0.0, "constrainThisAtom": "A:60:_CA_" },
                       { "type": "constrainAtomToPosition", "springConstant": 0.1, "equilibriumDistance": 0.0, "constrainThisAtom": "A:70:_CA_" },
                       { "type": "constrainAtomToPosition", "springConstant": 0.1, "equilibriumDistance": 0.0, "constrainThisAtom": "A:80:_CA_" },
                       { "type": "constrainAtomToPosition", "springConstant": 0.1, "equilibriumDistance": 0.0, "constrainThisAtom": "A:90:_CA_" },
                       { "type": "constrainAtomToPosition", "springConstant": 0.1, "equilibriumDistance": 0.0, "constrainThisAtom": "A:100:_CA_" },
                       { "type": "constrainAtomToPosition", "springConstant": 0.1, "equilibriumDistance": 0.0, "constrainThisAtom": "A:110:_CA_" },
                       { "type": "constrainAtomToPosition", "springConstant": 0.1, "equilibriumDistance": 0.0, "constrainThisAtom": "A:120:_CA_" },
                       { "type": "constrainAtomToPosition", "springConstant": 0.1, "equilibriumDistance": 0.0, "constrainThisAtom": "A:130:_CA_" },
                       { "type": "constrainAtomToPosition", "springConstant": 0.1, "equilibriumDistance": 0.0, "constrainThisAtom": "A:140:_CA_" },
                       { "type": "constrainAtomToPosition", "springConstant": 0.1, "equilibriumDistance": 0.0, "constrainThisAtom": "A:150:_CA_" },
                       { "type": "constrainAtomToPosition", "springConstant": 0.1, "equilibriumDistance": 0.0, "constrainThisAtom": "A:160:_CA_" },
                       { "type": "constrainAtomToPosition", "springConstant": 0.1, "equilibriumDistance": 0.0, "constrainThisAtom": "A:170:_CA_" },
                       { "type": "constrainAtomToPosition", "springConstant": 0.1, "equilibriumDistance": 0.0, "constrainThisAtom": "A:180:_CA_" },
                       { "type": "constrainAtomToPosition", "springConstant": 0.1, "equilibriumDistance": 0.0, "constrainThisAtom": "A:190:_CA_" },
                       { "type": "constrainAtomToPosition", "springConstant": 0.1, "equilibriumDistance": 0.0, "constrainThisAtom": "A:200:_CA_" },
                       { "type": "constrainAtomToPosition", "springConstant": 0.1, "equilibriumDistance": 0.0, "constrainThisAtom": "A:210:_CA_" }

		],

		"PELE_Output": {
			"reportPath": "output/run_report",
			"trajectoryPath": "output/run_trajectory.pdb",
			"savingMode": "savingTrajectory",
			"savingFrequencyForAcceptedSteps": 1,
			"initialPdbPath": "output/initial.pdb",
			"finalPdbPath": "output/final.pdb"
		},
		"selectionToPerturb": {
			"chains": {
				"names": ["L"]
			}
		},
		"Perturbation": {
			"perturbationType": "naive",
                        "translationDirection": "steered",
                        "rotationAngles": "nonCoupled",
			"parameters": {
				"rotationScalingFactor": 0.25,
                                "steeringUpdateFrequency": 3,
				"translationRange": 1.5,
				"overlapFactor": 0.1,
				"numberOfStericTrials": 200,
				"numberofTrials": 10
			},
		

		"Box": {
   			"type": "sphericalBox",
   			"radius": 15,
                         "fixedCenter": [-24.84, 6.36, 39.73]                       
                          }
		},
		
	
		"ANM": {
			"algorithm": "ALPHACARBONS",
			"options": {
				"pickingCase": "RANDOM_MODE",
				"modesMixingOption": "mixMainModeWithOthersModes",
				"directionGeneration": "random"
			},
			"parameters": {
				"eigenUpdateFrequency": 100000,
				"modesChangeFrequency": 5,
				"numberOfModes": 6,
				"displacementFactor": 0.75,
				"mainModeWeightForMixModes": 0.75,
				"relaxationSpringConstant": 0.5
			},
			"anmMinimizer": {
				"algorithm": "TruncatedNewton",
				"parameters": {
					"MaximumMinimizationIterations": 1,
					"MaximumNewtonIterations": 30,
					"MinimumRMS": 0.1,
					"nonBondingListUpdatedEachMinStep": false,
					"alphaUpdated": false
				}
			}
		},
		"SideChainPrediction": {
			"algorithm": "zhexin",
			"parameters": { "randomize": false, "numberOfIterations": 1 }
		},
		"Minimizer": {
			"algorithm": "TruncatedNewton",
			"parameters": {
				"MinimumRMS": 0.1, "nonBondingListUpdatedEachMinStep": true, "alphaUpdated": false
			}
		},

		"PeleTasks": [{
			"metrics": [
                         { "type": "com_distance",
                           "selection_group_1": { "atoms": { "ids": ["A:15:_OG_"] } },
                           "selection_group_2": { "atoms": { "ids": ["L:900:_C4_"] } },
                           "tag": "S161-lig"
                        },


                        {
                        "type": "com_distance",
                         "selection_group_1": { "atoms": { "ids": ["A:195:_NE2"] } },
                         "selection_group_2": { "atoms": { "ids": ["A:15:_HG_"] } },
                          "tag": "S161-H286"
                         },
                        {
                        "type": "com_distance",
                         "selection_group_1": { "atoms": { "ids": ["A:192:_OD2"] } },
                         "selection_group_2": { "atoms": { "ids": ["A:195:_HD1"] } },
                         "tag": "asp-his"
                        },

			 {
				"type": "bindingEnergy",
				"boundPartSelection": {
					"chains": {
						"names": ["L"]
					}
				}
			}, {
				"type": "sasa",
				"tag": "sasaLig",
				"selection": {
					"chains": {
						"names": ["L"]
					}
				}
			},
                           { "tag" : "rand", "type" : "random" },
                           { "tag" : "rand1", "type" : "random" }],
                  
		"parametersChanges" : [
                     { "ifAnyIsTrue": [ "rand >= .5" ],
                         "doThesechanges": { "Perturbation::parameters": { "rotationScalingFactor": 0.025 } },
                         "otherwise": { "Perturbation::parameters": { "rotationScalingFactor": 0.10 } }
                     },
                     { "ifAnyIsTrue": [ "sasaLig < 0.15 " ],
                         "doThesechanges": { "Perturbation::parameters": { "translationRange": 0.5,  "steeringUpdateFrequency": 1 } },
                         "otherwise": { "Perturbation::parameters": { "translationRange": 1.5,  "steeringUpdateFrequency": 3 } }
                     }
                  ]

		}]
	}]
}
